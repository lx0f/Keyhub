<nav class="mt-4">
    <header class="container d-flex align-items-center">
        <a style="text-decoration: none; color: black;" href="/" class="logo fw-bold flex-shrink-0 me-5">K E Y H
            U B</a>
        <form onsubmit="return onSubmit(this);" class="input-group" method="get">
            <input type="text" id="search" name="search" class="form-control" placeholder="Search">
            <button type="submit" class="input-group-text" style="background-color: black; color: white;"><i
                    class="fa fa-search"></i>Search</button>
            <script>
                const onSubmit = (form) => {
                    const searchValue = document.getElementById('search').value;
                    form.action = `/product/${searchValue}`;
                };
            </script>
        </form>
        <div class="d-flex ms-5 align-items-center flex-shrink-0">
            {{#if authenticated}}
            <div class="d-flex me-2">
                <a href="/cart" style="color: black; text-decoration: none;">
                    <div class="me-2 d-flex position-relative align-items-center justify-content-center rounded-circle border"
                        style="width: 50px; height: 50px;">
                        <i class="fa fa-shopping-cart cart-design"></i>
                        {{#if cartItemCount}}
                        <span class="position-absolute translate-middle badge rounded-pill bg-danger"
                            style="top: 2px; left: 90%;">
                            {{cartItemCount}}
                            <span class="visually-hidden">unread messages</span>
                        </span>
                        {{/if}}
                    </div>
                </a>
                <a href="/account" style="color: black; text-decoration: none;">
                    <div class="me-2 d-flex align-items-center justify-content-center rounded-circle border"
                        style="width: 50px; height: 50px;">
                        <i class="fa fa-user"></i>
                    </div>
                </a>
            </div>
            {{/if}}
            <div>
                <div class="small">Welcome</div>
                <div class="d-flex flex-shrink-0">
                    {{#if authenticated}}
                    <a href="/logout">Logout</a>
                    {{else}}
                    <a href="/login">Sign in</a>
                    |
                    <a href="/register">Register</a>
                    {{/if}}
                </div>
            </div>
        </div>
    </header>
    <hr>
    <section class="container">
        <ul class="d-flex p-0" style="gap: 20px;">
            <div class="small">
                <a class="dropdown-link" id="dropdownMenuButtonKeyboards" data-bs-toggle="dropdown"
                    aria-expanded="false">
                    Keyboards
                </a>
                <ul class="dropdown-menu" aria-labelledby="dropdownMenuButtonKeyboards">
                    <li><a class="dropdown-item" href="/product/prebuilt">Prebuilt</a></li>
                    <li><a class="dropdown-item" href="/product/custom">Custom</a></li>
                    <li><a class="dropdown-item" href="/product/prebuilt|custom">Both</a></li>
                </ul>
            </div>
            <div class="small">
                <a class="dropdown-link" href="/product/switch">
                    Switches
                </a>
            </div>
            <div class="small">
                <a class="dropdown-link" href="/product/keycap">
                    Keycaps
                </a>
            </div>
            <div class="small">
                <a class="dropdown-link" href="/product/accessory">
                    Accessories
                </a>
            </div>
            <div class="small">
                <a class="dropdown-link" href="/chat">
                    Chat
                </a>
            </div>
            <div class="small">
                <a class="dropdown-link" id="dropdownMenuButtonHelp" data-bs-toggle="dropdown" aria-expanded="false">
                    Help
                </a>
                <ul class="dropdown-menu" aria-labelledby="dropdownMenuButtonHelp">
                    <li><a class="dropdown-item" href="/faq">View FAQs</a></li>
                    <li><a class="dropdown-item" href="/ticket">Send ticket</a></li>
                </ul>
            </div>
        </ul>
    </section>
    <hr class="m-0">
</nav>
<style>
    /* Underline styles */
    .dropdown-link {
        display: block;
        position: relative;
        text-decoration: none;
        color: black;
    }

    /* Fade in */
    .dropdown-link::after {
        content: '';
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        height: 0.1em;
        background-color: black;
        opacity: 0;
        transition: opacity 300ms, transform 300ms;
    }

    .dropdown-link:hover {
        cursor: pointer;
        color: black;
    }

    .dropdown-link:hover::after,
    .dropdown-link:focus::after {
        opacity: 1;
        transform: translate3d(0, 0.2em, 0);
    }

    /* Scale from center */
    .dropdown-link::after {
        opacity 1;
        transform: scale(0);
        transform-origin: center;
    }

    .dropdown-link:hover::after,
    .dropdown-link:focus::after {
        transform: scale(1);
    }
</style>